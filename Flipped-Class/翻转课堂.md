

# Week 9

## 9.1树状数组

满足**交换律**，**可差分**



## 9.2 Treap

$Treap=Tree + Heap$

一个value，保持二叉搜索树的性质

一个key，保持堆的性质，也是旋转的依据





# Week13

## 13.1 Range Tree

KD Tree为什么是sqrt(n)？



fractional cascading



skip list



Range Tree如何查询最近邻？



KD Tree的弊端

* 不容易处理查询点与聚集范围较远的情况。
* 所有点在球面上，一个点在球心处。如果球心偏离一点点，会如何？如何进行实现？

## 13.2 Bounding Box

判断碰撞💥

如何判断两个三角形相交？



如何判断多个三角形组成的总体相交？

* 暴力美学：直接暴力求解
* 使用简单几何体套壳🐚

<img src="/var/folders/3y/vnhrl52j4jl21yyp04grbrtm0000gn/T/com.apple.useractivityd/shared-pasteboard/items/C4452462-E556-4E6A-80E8-148BB2FBDC23/IMG_9926.jpeg" alt="IMG_9926" style="zoom: 25%;" />







![IMG_9931](/var/folders/3y/vnhrl52j4jl21yyp04grbrtm0000gn/T/com.apple.useractivityd/shared-pasteboard/items/AC69E5F7-A646-42B0-8328-68FDC4E5D2BB/IMG_9931.jpeg)



AABB：轴对齐包围盒

构建：直接求最小值、最大值。

判断：比较：中心与中心的距离，两个半长和。

OBB：带旋转的包围盒

构建：PCA，分离轴定理



## 13.3 Quadtree & Octree && BSP Tree

### 四叉树与八叉树



松散四叉树、八叉树



建树对空间划分？如何画圆、画球。

### BSP Tree

https://www.zhihu.com/column/c_1623336087870201856

![IMG_9934](/var/folders/3y/vnhrl52j4jl21yyp04grbrtm0000gn/T/com.apple.useractivityd/shared-pasteboard/items/368F4331-9165-4E82-BCF6-BCA4033A06A5/IMG_9934.jpeg)







